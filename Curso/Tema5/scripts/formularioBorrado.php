<html> <head> <title>Formulario para ELIMINAR REGISTROS de la tabla demo4, demodat1, demodat2 y demodat3</title> </head> <body> <?php # definimos una variable con el NOMBRE DE LA BASE DE DATOS $base="ejemplos"; # establecemos la conexión con el servidor $conexion=mysqli_connect ("localhost","root","",$base); mysqli_set_charset($conexion,"utf8");#Select para sacar los datos$cadsql=<<<cadenaSELECT demo4.DNI,demo4.Nombre,demo4.Apellido1, demo4.Apellido2 ,demodat1.Puntos as Puntos1, demodat2.Puntos as Puntos2, demodat3.Puntos as Puntos3FROM demo4, demodat1, demodat2, demodat3  WHERE (demo4.DNI=demodat1.DNI AND demo4.DNI=demodat2.DNI AND demo4.DNI=demodat3.DNI) ORDER BY Nombrecadena;$resultado=mysqli_query($conexion,$cadsql); # presentamos la fila en forma de tabla HTML # estos son los encabezados echo "<table align=center border=2 bgcolor='#F0FFFF'>"; echo "<tr bgcolor='#ffffff'><td colspan=8 align=center>Para BORRAR marca la casilla correspondiente al registro a eliminar</td><tr bgcolor='#ffffff'></tr>"; echo "<td colspan=4 align=center>Datos del aspirante</td>"; echo "<td align=center>Punt 1</td>"; echo "<td align=center>Punt 2</td>"; echo "<td align=center>Punt 3</td>"; echo "<td align=center>Borrar</td></tr>"; # bucle de recorridoecho "<form name='borrar' method=\"POST\" action='ScriptBorrado.php'>"; while($fila = mysqli_fetch_array($resultado)){ 	echo "<tr><td>",$fila["DNI"],"</td>"; 	echo "<td>",$fila["Nombre"],"</td>";	echo "<td>",$fila["Apellido1"],"</td>";	echo "<td>",$fila["Apellido2"],"</td>";   	echo "<td>",$fila["Puntos1"],"</td>";  	echo "<td>",$fila["Puntos2"],"</td>";  	echo "<td>",$fila["Puntos3"],"</td>";  /* además de mostrar estos datos añadimos un campo de formulario identificado por un NAME que es una matriz (borra) cuyo indice es el DNI del campo consultado  al ponerle como VALUE='Si" lo que estamos haciendo es que  cuando este "marcada" la casilla ese elemento de la matriz tome valor Si  cuando "no está esté marcada" tomará valor NULL  y por lo tanto  NO SERÁ ENVIADA POR EL METHOD POST */$indice=$fila["DNI"];echo "<td align=center> <input type=checkbox name=borra[$indice] value='Si'></td></tr>"; } mysqli_close($conexion) ?> <td colspan=5 align=center><br><input type=submit value='Eliminar registros marcados'>&nbsp;<input type=reset value='Borrar el formulario'> </form></table> </body> </html> 